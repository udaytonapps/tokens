{"version":3,"sources":["utils/api-connector.ts","components/DevPanel.tsx","components/Header.tsx","utils/context.ts","components/StatusName.tsx","components/BalancesTable.tsx","components/HistoryTable.tsx","components/RequestsTable.tsx","components/ReviewDialog.tsx","components/SettingsDialog.tsx","components/TabPanel.tsx","views/InstructorView.tsx","App.tsx","reportWebVitals.ts","index.tsx","utils/helpers.ts","utils/contants.ts"],"names":["config","EnvConfig","getEnvironment","getInfo","axios","get","apiUrl","sessionId","res","data","console","error","getSettings","addSettings","settings","body","post","updateSettings","put","getAllBalances","getSubmittedRequests","updateRequest","updateData","log","DevPanel","props","useState","expired","setExpired","appInfo","setAppInfo","useEffect","then","info","includes","Box","position","bottom","p","Card","sx","border","textAlign","Typography","Header","mt","variant","AppContext","createContext","contextId","isInstructor","linkId","username","darkMode","baseColor","nameConfig","SUBMITTED","icon","Info","color","text","tooltip","ACCEPTED","CheckCircle","REJECTED","Cancel","StatusName","status","iconOnly","display","alignItems","Tooltip","title","ml","BalancesTable","initialTokens","requestMap","rows","setTabPosition","TableContainer","component","Paper","Table","minWidth","TableHead","TableRow","TableCell","align","TableBody","length","map","row","index","maxWidth","learnerId","user_id","minHeight","justifyContent","alignContent","IconButton","onClick","learner_name","tokens_used","colSpan","HistoryTable","openReviewDialog","statusColors","getStatusColors","useTheme","borderLeft","status_name","DateTime","fromFormat","updated_at","DB_DATE_TIME_FORMAT","toLocaleString","DATETIME_MED","scope","category_name","Button","request_id","RequestsTable","overflow","textOverflow","whiteSpace","learner_comment","ReviewDialog","handleClose","handleSave","open","requestRow","actionStatus","setActionStatus","comment","setComment","undefined","Dialog","onClose","onSubmit","e","preventDefault","submission","instructor_comment","DialogTitle","DialogContent","mb","DialogContentText","mr","FormLabel","fontWeight","flexDirection","pl","TextField","disabled","fullWidth","value","multiline","minRows","maxRows","FormControl","RadioGroup","id","name","onChange","newStatus","target","FormControlLabel","control","Radio","required","label","commentVal","DialogActions","type","SettingsDialog","useForm","defaultValues","categories","token_cost","register","handleSubmit","setValue","errors","formState","useFieldArray","fields","append","update","remove","formattedDate","use_by_date","toISODate","configuration_id","initial_tokens","notifications_pref","settingsToSubmit","parseInt","forEach","category","category_id","dbAction","width","InputLabel","htmlFor","autoFocus","margin","size","InputLabelProps","shrink","InputProps","inputProps","style","pattern","min","helperText","Checkbox","defaultChecked","placement","InfoOutlined","fontSize","i","placeholder","filter","startIcon","Add","TabPanel","children","other","role","hidden","InstructorView","tabPosition","reviewDialogOpen","setReviewDialogOpen","settingsDialogOpen","setSettingsDialogOpen","setSettings","Map","setRequestMap","balanceRows","setBalanceRows","requestRows","setRequestRows","historyRows","setHistoryRows","requestInReview","setRequestInReview","fetchAndAssembleData","newRequestMap","request","set","balances","sortedBalances","sortBalancesByPriority","fetchedSettings","fetchedRequestRows","newlySubmittedRequests","sort","compareLastNames","compareDateTime","handleSaveSettingsDialog","newSettings","retrievedSettings","handleSaveReviewDialog","reviewData","Badge","badgeContent","NotificationImportant","Settings","borderBottom","borderColor","Tabs","event","newValue","Tab","a11yProps","requestId","find","reason","App","appConfig","setAppconfig","getAppConfig","defaultPrimary","palette","primary","main","theme","createTheme","mode","components","MuiTableCell","styleOverrides","head","ThemeProvider","CssBaseline","className","Provider","height","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","environment","overrides","APP_INFO_OVERRIDES","process","getSessionId","window","warning","success","compareStrings","a","b","splitA","split","splitB","lastA","lastB","Date","getTime","pending","resolved","push","pre_build","local_build","deployed_build"],"mappings":"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","file":"static/js/main.67191880.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { EnvConfig } from \"./contants\";\nimport { getEnvironment } from \"./helpers\";\nimport {\n  ApiResponse,\n  BalancesTableRow,\n  GetAllBalancesResponse,\n  GetInfoResponse,\n  GetSettingsResponse,\n  GetSubmittedRequestsResponse,\n  RequestsTableRow,\n  RequestUpdateData,\n  LtiAppInfo,\n  TokensSettings,\n} from \"./types\";\n\nconst config = EnvConfig[getEnvironment()];\n\nexport const getInfo = async (): Promise<LtiAppInfo | null> => {\n  try {\n    const res = await axios.get<GetInfoResponse>(\n      `${config.apiUrl}/info?PHPSESSID=${config.sessionId}`\n    );\n    return res.data.data;\n  } catch (e) {\n    console.error(e);\n    return null;\n  }\n};\n\nexport const getSettings = async (): Promise<TokensSettings | null> => {\n  try {\n    const res = await axios.get<GetSettingsResponse>(\n      `${config.apiUrl}/instructor/settings?PHPSESSID=${config.sessionId}`\n    );\n    return res.data.data;\n  } catch (e) {\n    console.error(e);\n    return null;\n  }\n};\n\nexport const addSettings = async (settings: TokensSettings): Promise<void> => {\n  try {\n    const body = settings;\n    await axios.post<ApiResponse>(\n      `${config.apiUrl}/instructor/settings?PHPSESSID=${config.sessionId}`,\n      body\n    );\n    return;\n  } catch (e) {\n    console.error(e);\n    return;\n  }\n};\n\nexport const updateSettings = async (\n  settings: TokensSettings\n): Promise<void> => {\n  try {\n    const body = settings;\n    await axios.put<ApiResponse>(\n      `${config.apiUrl}/instructor/settings?PHPSESSID=${config.sessionId}`,\n      body\n    );\n    return;\n  } catch (e) {\n    console.error(e);\n    return;\n  }\n};\n\nexport const getAllBalances = async (): Promise<BalancesTableRow[]> => {\n  try {\n    const res = await axios.get<GetAllBalancesResponse>(\n      `${config.apiUrl}/instructor/balances?PHPSESSID=${config.sessionId}`\n    );\n    return res.data.data || [];\n  } catch (e) {\n    console.error(e);\n    return [];\n  }\n};\n\nexport const getSubmittedRequests = async (): Promise<RequestsTableRow[]> => {\n  try {\n    const res = await axios.get<GetSubmittedRequestsResponse>(\n      `${config.apiUrl}/instructor/requests?PHPSESSID=${config.sessionId}`\n    );\n    return res.data.data || [];\n  } catch (e) {\n    console.error(e);\n    return [];\n  }\n};\n\nexport const updateRequest = async (updateData: RequestUpdateData) => {\n  console.log(\"UPDATING request\");\n  try {\n    const body = updateData;\n    await axios.put<ApiResponse>(\n      `${config.apiUrl}/instructor/requests?PHPSESSID=${config.sessionId}`,\n      body\n    );\n    return;\n  } catch (e) {\n    console.error(e);\n    return;\n  }\n};\n","import { Box, Card, Typography } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { getInfo } from \"../utils/api-connector\";\nimport { getEnvironment } from \"../utils/helpers\";\nimport { LtiAppInfo } from \"../utils/types\";\n\ninterface DevPanelProps {}\n\n/**\n * Show development information during pre-build.\n * Dev panel does not rely on appInfo context.\n * This is because the dev panel should show whether\n * or not the appInfo was successfully retrieved.\n */\nfunction DevPanel(props: DevPanelProps) {\n  // const [info, setInfo] = useState<any>(null);\n  const [expired, setExpired] = useState<boolean>(false);\n  const [appInfo, setAppInfo] = useState<LtiAppInfo>();\n\n  useEffect(() => {\n    getInfo().then((info) => {\n      if (\n        !info ||\n        (typeof info === \"string\" &&\n          (info as string).includes(\"Session expired\"))\n      ) {\n        console.error(\"SESSION EXPIRED\");\n        setExpired(true);\n      } else {\n        setAppInfo(info);\n        setExpired(false);\n      }\n    });\n  }, []);\n\n  return (\n    <Box position={\"absolute\"} bottom={0} p={2}>\n      <Card sx={{ border: \"2px solid red\" }}>\n        <Box p={2} textAlign=\"center\">\n          <Typography>React App status is: {getEnvironment()}</Typography>\n          <Typography>Session ID is: {appInfo?.sessionId}</Typography>\n          Session is: {expired ? \"EXPIRED\" : \"VALID\"}\n        </Box>\n      </Card>\n    </Box>\n  );\n}\n\nexport default DevPanel;\n","import { Box, Typography } from \"@mui/material\";\n\ninterface HeaderProps {}\n\n/** Show basic header info */\nfunction Header(props: HeaderProps) {\n  return (\n    <Box mt={6}>\n      <Typography variant=\"h3\">Tokens</Typography>\n    </Box>\n  );\n}\n\nexport default Header;\n","import { createContext } from \"react\";\nimport { LtiAppInfo } from \"./types\";\n\nexport const AppContext = createContext<LtiAppInfo>({\n  apiUrl: \"\",\n  contextId: \"\",\n  isInstructor: false,\n  linkId: \"\",\n  sessionId: \"\",\n  username: \"\",\n  darkMode: false,\n  baseColor: \"\",\n});\n","import { Cancel, CheckCircle, Info } from \"@mui/icons-material\";\nimport { Box, Tooltip, Typography } from \"@mui/material\";\nimport { RequestStatus } from \"../utils/types\";\n\ninterface StatusNameProps {\n  status: RequestStatus;\n  iconOnly?: boolean;\n}\n\nconst nameConfig: Record<RequestStatus, any> = {\n  SUBMITTED: {\n    icon: <Info color=\"warning\" />,\n    text: \"Pending\",\n    tooltip: \"The request has not yet been accepted or rejected\",\n  },\n  ACCEPTED: {\n    icon: <CheckCircle color=\"success\" />,\n    text: \"Accepted\",\n    tooltip: \"The request has been accepted\",\n  },\n  REJECTED: {\n    icon: <Cancel color=\"error\" />,\n    text: \"Rejected\",\n    tooltip: \"The request has been rejected\",\n  },\n};\n\n/** Shows the mapped status name and an icon */\nfunction StatusName(props: StatusNameProps) {\n  const { status, iconOnly } = props;\n\n  return (\n    <Box display={\"flex\"} alignItems={\"center\"}>\n      <Box display={\"flex\"} alignItems={\"center\"}>\n        <Tooltip title={nameConfig[status].tooltip}>\n          {nameConfig[status].icon}\n        </Tooltip>\n      </Box>\n      {!iconOnly && (\n        <Typography sx={{ ml: 1 }}>{nameConfig[status].text}</Typography>\n      )}\n    </Box>\n  );\n}\n\nexport default StatusName;\n","import {\n  Box,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@mui/material\";\nimport { Dispatch, SetStateAction } from \"react\";\nimport { BalancesTableRow } from \"../utils/types\";\nimport StatusName from \"./StatusName\";\n\ninterface BalancesTableProps {\n  initialTokens: number;\n  requestMap: Map<string, boolean>;\n  rows: BalancesTableRow[];\n  setTabPosition: Dispatch<SetStateAction<number>>;\n}\n\n/** Shows the balances of all available students */\nfunction BalancesTable(props: BalancesTableProps) {\n  const { initialTokens, requestMap, rows, setTabPosition } = props;\n\n  const getAlert = (learnerId: string) => {\n    return (\n      <Box\n        display={\"flex\"}\n        minHeight={40}\n        justifyContent={\"center\"}\n        alignContent={\"center\"}\n      >\n        {/* Show the icon button only if there is a reference to the learner */}\n        {requestMap.get(learnerId) && (\n          <IconButton onClick={() => setTabPosition(1)}>\n            <StatusName status=\"SUBMITTED\" iconOnly={true} />\n          </IconButton>\n        )}\n      </Box>\n    );\n  };\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell></TableCell>\n            <TableCell>Student Name</TableCell>\n            <TableCell align=\"center\">Balance Remaining</TableCell>\n            <TableCell align=\"center\">Tokens Used</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {!rows.length ? (\n            <TableRow>\n              <TableCell colSpan={4} sx={{ textAlign: \"center\" }}>\n                <Typography>No balances yet!</Typography>\n              </TableCell>\n            </TableRow>\n          ) : (\n            rows.map((row, index) => (\n              <TableRow\n                key={`${index}-${row.user_id}`}\n                sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n              >\n                <TableCell align=\"center\" sx={{ maxWidth: 40 }}>\n                  {getAlert(row.user_id)}\n                </TableCell>\n                <TableCell>{row.learner_name}</TableCell>\n                <TableCell align=\"center\">\n                  {initialTokens - row.tokens_used || 0}\n                </TableCell>\n                <TableCell align=\"center\">{row.tokens_used}</TableCell>\n              </TableRow>\n            ))\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n\nexport default BalancesTable;\n","import {\n  Button,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  useTheme,\n} from \"@mui/material\";\nimport { HistoryTableRow } from \"../utils/types\";\nimport { DateTime } from \"luxon\";\nimport { DB_DATE_TIME_FORMAT } from \"../utils/contants\";\nimport StatusName from \"./StatusName\";\nimport { getStatusColors } from \"../utils/helpers\";\n\ninterface HistoryTableProps {\n  rows: HistoryTableRow[];\n  openReviewDialog: (requestId: string) => void;\n}\n\n/** Shows the history of requests of all available students */\nfunction HistoryTable(props: HistoryTableProps) {\n  const { rows, openReviewDialog } = props;\n\n  const statusColors = getStatusColors(useTheme());\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Last Action</TableCell>\n            <TableCell>Student Name</TableCell>\n            <TableCell>Request</TableCell>\n            <TableCell>Status</TableCell>\n            <TableCell align=\"center\">Action</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {!rows.length ? (\n            <TableRow>\n              <TableCell colSpan={5} sx={{ textAlign: \"center\" }}>\n                <Typography>No requests on record yet!</Typography>\n              </TableCell>\n            </TableRow>\n          ) : (\n            rows.map((row, index) => (\n              <TableRow\n                key={`${index}-${row.request_id}`}\n                sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n              >\n                <TableCell\n                  sx={{\n                    borderLeft: `5px solid ${\n                      statusColors[row.status_name]\n                    } !important`,\n                  }}\n                >\n                  {DateTime.fromFormat(\n                    row.updated_at,\n                    DB_DATE_TIME_FORMAT\n                  ).toLocaleString(DateTime.DATETIME_MED)}\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.learner_name}\n                </TableCell>\n                <TableCell>{row.category_name}</TableCell>\n                <TableCell>\n                  <StatusName status={row.status_name} />\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Button\n                    variant=\"contained\"\n                    onClick={() => openReviewDialog(row.request_id)}\n                  >\n                    Review\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n\nexport default HistoryTable;\n","import {\n  Button,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@mui/material\";\nimport { RequestsTableRow } from \"../utils/types\";\n\ninterface RequestsTableProps {\n  rows: RequestsTableRow[];\n  openReviewDialog: (requestId: string) => void;\n}\n\n/** Shows the requests of all available students */\nfunction RequestsTable(props: RequestsTableProps) {\n  const { rows, openReviewDialog } = props;\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Student Name</TableCell>\n            <TableCell>Request</TableCell>\n            <TableCell>Description</TableCell>\n            <TableCell align=\"center\">Action</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {!rows.length ? (\n            <TableRow>\n              <TableCell colSpan={4} sx={{ textAlign: \"center\" }}>\n                <Typography>No pending requests!</Typography>\n              </TableCell>\n            </TableRow>\n          ) : (\n            rows.map((row, index) => (\n              <TableRow\n                key={`${index}-${row.request_id}`}\n                sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.learner_name}\n                </TableCell>\n                <TableCell>{row.category_name}</TableCell>\n                <TableCell\n                  sx={{\n                    maxWidth: 200,\n                    overflow: \"hidden\",\n                    textOverflow: \"ellipsis\",\n                    whiteSpace: \"nowrap\",\n                  }}\n                >\n                  {row.learner_comment}\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Button\n                    variant=\"contained\"\n                    onClick={() => openReviewDialog(row.request_id)}\n                  >\n                    Review\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n\nexport default RequestsTable;\n","import {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n  Radio,\n  RadioGroup,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport {\n  RequestsTableRow,\n  RequestStatus,\n  RequestUpdateData,\n} from \"../utils/types\";\nimport StatusName from \"./StatusName\";\n\ninterface ReviewDialogProps {\n  handleClose: (event?: object, reason?: string) => void;\n  handleSave: (submission: RequestUpdateData) => void;\n  open: boolean;\n  requestRow: RequestsTableRow | null;\n}\n\n/** Show settings form */\nfunction ReviewDialog(props: ReviewDialogProps) {\n  const { handleClose, handleSave, open, requestRow } = props;\n\n  const [actionStatus, setActionStatus] = useState<RequestStatus>();\n  const [comment, setComment] = useState<string>();\n\n  useEffect(() => {\n    if (open) {\n      setActionStatus(undefined);\n      setComment(undefined);\n    }\n  }, [open]);\n\n  /** Handles submission of the form data */\n  const onSubmit = (e: any) => {\n    e.preventDefault();\n    if (requestRow && actionStatus) {\n      const submission: RequestUpdateData = {\n        request_id: requestRow.request_id,\n        status_name: actionStatus,\n      };\n      if (actionStatus === \"REJECTED\") {\n        submission.instructor_comment = comment;\n      }\n      handleSave(submission);\n    }\n  };\n\n  const handleActionChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const newStatus = e.target.value as RequestStatus;\n    if (newStatus === \"ACCEPTED\") {\n      setComment(\"\");\n    }\n    setActionStatus(newStatus);\n  };\n\n  const handleCommentChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const commentVal = e.target.value;\n    setComment(commentVal);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      {requestRow && (\n        <Box p={2}>\n          <form onSubmit={onSubmit}>\n            <DialogTitle>Review Request</DialogTitle>\n            <DialogContent>\n              <Box mb={3}>\n                <DialogContentText>\n                  Review or take action on a token request.\n                </DialogContentText>\n              </Box>\n              {/* LEARNER NAME */}\n              <Box display={\"flex\"} mt={1} mb={2} alignItems={\"center\"}>\n                <Box mr={2}>\n                  <FormLabel>\n                    <Typography fontWeight={\"bold\"}>Requester:</Typography>\n                  </FormLabel>\n                </Box>\n                <Typography>{requestRow.learner_name}</Typography>\n              </Box>\n              {/* REQUEST TYPE */}\n              <Box display={\"flex\"} mt={1} mb={2} alignItems={\"center\"}>\n                <Box mr={2}>\n                  <FormLabel>\n                    <Typography fontWeight={\"bold\"}>Request Type:</Typography>\n                  </FormLabel>\n                </Box>\n                <Typography>{requestRow.category_name}</Typography>\n              </Box>\n              {/* REQUESTER COMMENT */}\n              <Box display={\"flex\"} flexDirection={\"column\"} mt={1} mb={2}>\n                <Box mb={2}>\n                  <FormLabel>\n                    <Typography fontWeight={\"bold\"}>\n                      Requester Comment:\n                    </Typography>\n                  </FormLabel>\n                </Box>\n                <Box pl={2}>\n                  <TextField\n                    disabled\n                    fullWidth\n                    aria-label=\"Description of request as made by the requester\"\n                    value={requestRow.learner_comment || \"\"}\n                    multiline\n                    minRows={1}\n                    maxRows={6}\n                  />\n                </Box>\n              </Box>\n              {/* INSTRUCTOR ACTION CHOICE */}\n              {requestRow.status_name === \"SUBMITTED\" ? (\n                <Box>\n                  <FormControl>\n                    <FormLabel>\n                      <Typography fontWeight={\"bold\"}>\n                        Instructor Action:\n                      </Typography>\n                    </FormLabel>\n                    <Box pl={2}>\n                      <RadioGroup\n                        id=\"instructor-action\"\n                        name=\"instructor-action\"\n                        aria-labelledby=\"instructor-action\"\n                        onChange={handleActionChange}\n                      >\n                        <FormControlLabel\n                          value=\"ACCEPTED\"\n                          control={<Radio required />}\n                          label=\"Accept\"\n                        />\n                        <FormControlLabel\n                          value=\"REJECTED\"\n                          control={<Radio required />}\n                          label=\"Reject\"\n                        />\n                      </RadioGroup>\n                    </Box>\n                  </FormControl>\n                  {actionStatus === \"REJECTED\" && (\n                    <Box\n                      display={\"flex\"}\n                      flexDirection={\"column\"}\n                      mt={1}\n                      mb={2}\n                    >\n                      <Box mb={2}>\n                        <FormLabel>\n                          <Typography fontWeight={\"bold\"}>\n                            Instructor Comment:\n                          </Typography>\n                        </FormLabel>\n                      </Box>\n                      <Box pl={2}>\n                        <TextField\n                          fullWidth\n                          required\n                          aria-label=\"An input for the instructor to comment on the request\"\n                          multiline\n                          rows={6}\n                          value={comment}\n                          onChange={handleCommentChange}\n                        />\n                      </Box>\n                    </Box>\n                  )}\n                </Box>\n              ) : (\n                <Box>\n                  {/* DISPLAY ACTION TAKEN */}\n                  <Box display={\"flex\"} mt={1} mb={2} alignItems={\"center\"}>\n                    <Box mr={2}>\n                      <FormLabel>\n                        <Typography fontWeight={\"bold\"}>\n                          Instructor Action:\n                        </Typography>\n                      </FormLabel>\n                    </Box>\n                    <StatusName status={requestRow.status_name} />\n                  </Box>\n                  {requestRow.status_name === \"REJECTED\" && (\n                    <Box\n                      display={\"flex\"}\n                      flexDirection={\"column\"}\n                      mt={1}\n                      mb={2}\n                    >\n                      {/* INSTRUCTOR COMMENT */}\n                      <Box mb={2}>\n                        <FormLabel>\n                          <Typography fontWeight={\"bold\"}>\n                            Instructor Comment:\n                          </Typography>\n                        </FormLabel>\n                      </Box>\n                      <Box pl={2}>\n                        <TextField\n                          disabled\n                          fullWidth\n                          aria-label=\"A comment on the request made by the instructor\"\n                          value={requestRow.instructor_comment || \"\"}\n                          multiline\n                          minRows={1}\n                          maxRows={6}\n                        />\n                      </Box>\n                    </Box>\n                  )}\n                </Box>\n              )}\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} variant=\"outlined\">\n                {requestRow.status_name === \"SUBMITTED\" ? \"Cancel\" : \"Close\"}\n              </Button>\n              {requestRow.status_name === \"SUBMITTED\" && (\n                <Button variant=\"contained\" type=\"submit\">\n                  Save\n                </Button>\n              )}\n            </DialogActions>\n          </form>\n        </Box>\n      )}\n    </Dialog>\n  );\n}\n\nexport default ReviewDialog;\n","import { Add, Cancel, InfoOutlined } from \"@mui/icons-material\";\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  InputLabel,\n  TextField,\n  Tooltip,\n  Typography,\n} from \"@mui/material\";\nimport { DateTime } from \"luxon\";\nimport { useEffect } from \"react\";\nimport { useFieldArray, useForm } from \"react-hook-form\";\nimport { DB_DATE_TIME_FORMAT } from \"../utils/contants\";\nimport { TokensSettings } from \"../utils/types\";\n\ninterface SettingsDialogProps {\n  handleClose: (event?: object, reason?: string) => void;\n  handleSave: (newSettings: TokensSettings) => void;\n  open: boolean;\n  settings: TokensSettings | null;\n}\n\n/** Show settings form */\nfunction SettingsDialog(props: SettingsDialogProps) {\n  const { handleClose, handleSave, open, settings } = props;\n\n  // Form management\n  const {\n    control,\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n  } = useForm<TokensSettings>({\n    defaultValues: {\n      categories: [\n        {\n          category_name: \"Missed Class\",\n          token_cost: 1,\n        },\n        {\n          category_name: \"Late Assignment\",\n          token_cost: 1,\n        },\n      ],\n    },\n  });\n  const { fields, append, update, remove } = useFieldArray({\n    control, // control props comes from useForm (optional: if you are using FormContext)\n    name: \"categories\", // unique name for your Field Array\n  });\n\n  useEffect(() => {\n    if (settings && open) {\n      // Convert use_by_date for input\n      const formattedDate = DateTime.fromFormat(\n        settings.use_by_date,\n        DB_DATE_TIME_FORMAT\n      ).toISODate();\n      setValue(\"configuration_id\", settings.configuration_id);\n      setValue(\"initial_tokens\", settings.initial_tokens);\n      setValue(\"notifications_pref\", settings.notifications_pref);\n      setValue(\"use_by_date\", formattedDate);\n      setValue(\"categories\", settings.categories);\n    }\n  }, [settings, open, setValue]);\n\n  /** Append a new empty category to the form */\n  const handleAddCategory = () => {\n    append({});\n  };\n\n  /** Indicates whether less than the minimum number of categories exists */\n  const disableCategoryDeletion = () => {\n    const validCategories = fields.filter((category) => {\n      return category.dbAction !== \"DELETE\";\n    });\n    return validCategories.length <= 1;\n  };\n\n  /** Marks a category for deletion */\n  const handleDeleteCategory = (index: number) => {\n    if (fields[index].category_id) {\n      fields[index].dbAction = \"DELETE\";\n      update(index, {\n        ...fields[index],\n        dbAction: \"DELETE\",\n      });\n    } else {\n      remove(index);\n    }\n  };\n\n  /** Handles submission of the form data */\n  const onSubmit = (data: TokensSettings) => {\n    // Assemble main data\n    const settingsToSubmit: TokensSettings = {\n      configuration_id: settings?.configuration_id,\n      initial_tokens:\n        typeof data.initial_tokens === \"number\"\n          ? data.initial_tokens\n          : parseInt(data.initial_tokens),\n      use_by_date: data.use_by_date,\n      notifications_pref: data.notifications_pref,\n      categories: data.categories,\n    };\n    // Update any category dbActions\n    settingsToSubmit.categories.forEach((category) => {\n      if (category.category_id && !category.dbAction) {\n        category.dbAction = \"UPDATE\";\n      } else if (!category.category_id && !category.dbAction) {\n        category.dbAction = \"ADD\";\n      }\n    });\n    handleSave(settingsToSubmit);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <Box p={2}>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <DialogTitle>Instructor Settings</DialogTitle>\n          <DialogContent>\n            {settings && (\n              <Box mb={3}>\n                <DialogContentText>\n                  View or update the settings for your token economy.\n                </DialogContentText>\n              </Box>\n            )}\n            {/* INITIAL TOKEN COUNT */}\n            <Box display={\"flex\"} mt={1} mb={2}>\n              <Box minWidth={300} width={300} mr={2} mt={1}>\n                <InputLabel htmlFor=\"token-count\" sx={{ whiteSpace: \"normal\" }}>\n                  <Typography fontWeight={\"bold\"}>\n                    Amount of tokens to be available for each student:\n                  </Typography>\n                </InputLabel>\n              </Box>\n              <Box minWidth={150} width={150}>\n                <TextField\n                  autoFocus\n                  margin=\"dense\"\n                  size=\"small\"\n                  id=\"token-count\"\n                  type=\"number\"\n                  error={!!errors.initial_tokens}\n                  InputLabelProps={{ shrink: false }}\n                  InputProps={{\n                    inputProps: {\n                      style: { textAlign: \"center\" },\n                    },\n                  }}\n                  {...register(\"initial_tokens\", {\n                    required: true,\n                    pattern: /^[0-9]+$/,\n                    min: 1,\n                  })}\n                  helperText={\n                    errors.initial_tokens && \"Must be a positive whole number\"\n                  }\n                />\n              </Box>\n            </Box>\n            {/* EXPIRATION / USE BY DATE */}\n            <Box display={\"flex\"} mb={2}>\n              <Box minWidth={300} mr={2} mt={2}>\n                <InputLabel htmlFor=\"use-by-date\">\n                  <Typography fontWeight={\"bold\"}>\n                    Date that tokens must be used by:\n                  </Typography>\n                </InputLabel>\n              </Box>\n              <Box>\n                <TextField\n                  margin=\"dense\"\n                  size=\"small\"\n                  id=\"use-by-date\"\n                  type=\"date\"\n                  error={!!errors.use_by_date}\n                  InputLabelProps={{ shrink: false }}\n                  {...register(\"use_by_date\", {\n                    required: true,\n                  })}\n                  helperText={errors.use_by_date && \"Must be a valid date\"}\n                />\n              </Box>\n            </Box>\n            {/* EMAIL NOTIFICATIONS */}\n            <Box mb={2}>\n              <Box\n                display={\"flex\"}\n                justifyContent={\"start\"}\n                alignItems={\"center\"}\n              >\n                <Box mr={3}>\n                  <InputLabel htmlFor=\"email-pref\">\n                    <Typography fontWeight={\"bold\"}>\n                      Email notifications:\n                    </Typography>\n                  </InputLabel>\n                </Box>\n                <Checkbox\n                  defaultChecked={true}\n                  inputProps={{\n                    \"aria-label\": \"Email notifications preference checkbox\",\n                  }}\n                  {...register(\"notifications_pref\")}\n                />\n              </Box>\n              <Box mb={3}>\n                <Typography variant=\"body2\">\n                  Receive emails when students use tokens.\n                </Typography>\n              </Box>\n            </Box>\n            {/* CATEGORY SELECTION */}\n            <Box display={\"flex\"} flexDirection={\"column\"}>\n              <Box display={\"flex\"}>\n                <Box minWidth={300} mr={2}>\n                  <InputLabel htmlFor=\"category-name-input-0\">\n                    <Typography fontWeight={\"bold\"}>Categories:</Typography>\n                  </InputLabel>\n                </Box>\n                <Box\n                  minWidth={150}\n                  width={150}\n                  display={\"flex\"}\n                  alignItems={\"center\"}\n                >\n                  <Tooltip\n                    title=\"The amount of tokens a student would need to spend.\"\n                    placement=\"top\"\n                  >\n                    <InfoOutlined\n                      sx={{ mr: 1 }}\n                      color=\"primary\"\n                      fontSize=\"small\"\n                    />\n                  </Tooltip>\n                  <InputLabel htmlFor=\"category-token-input-0\">\n                    <Typography fontWeight={\"bold\"}>Token Cost:</Typography>\n                  </InputLabel>\n                </Box>\n              </Box>\n              <Box display={\"flex\"} flexDirection={\"column\"}>\n                {fields.map((category, i) => {\n                  return (\n                    <Box key={category.id}>\n                      {/* Categories are only shown if not marked for deletion */}\n                      {category.dbAction !== \"DELETE\" && (\n                        <Box display={\"flex\"}>\n                          <Box minWidth={300} mr={2}>\n                            <TextField\n                              margin=\"dense\"\n                              size=\"small\"\n                              id={`category-name-${i}`}\n                              type=\"text\"\n                              placeholder=\"Enter category name...\"\n                              InputLabelProps={{ shrink: false }}\n                              InputProps={{\n                                inputProps: { style: { minWidth: 250 } },\n                              }}\n                              helperText={\n                                errors.categories?.[i]?.category_name &&\n                                \"A category name is required\"\n                              }\n                              //   error\n                              error={!!errors.categories?.[i]?.category_name}\n                              {...register(`categories.${i}.category_name`, {\n                                required: true,\n                              })}\n                            />\n                          </Box>\n                          <Box\n                            display={\"flex\"}\n                            alignItems={\"start\"}\n                            minWidth={200}\n                          >\n                            <Box minWidth={150} width={150}>\n                              <TextField\n                                margin=\"dense\"\n                                size=\"small\"\n                                id={`category-token-${i}`}\n                                type=\"number\"\n                                InputLabelProps={{ shrink: false }}\n                                InputProps={{\n                                  inputProps: {\n                                    style: { textAlign: \"center\" },\n                                  },\n                                }}\n                                error={!!errors.categories?.[i]?.token_cost}\n                                helperText={\n                                  errors.categories?.[i]?.token_cost &&\n                                  \"Must be a positive whole number\"\n                                }\n                                {...register(`categories.${i}.token_cost`, {\n                                  required: true,\n                                  pattern: /^[0-9]+$/,\n                                  min: 1,\n                                })}\n                              />\n                            </Box>\n                            <Box ml={1} mt={1}>\n                              <IconButton\n                                disabled={disableCategoryDeletion()}\n                                color=\"primary\"\n                                onClick={() => handleDeleteCategory(i)}\n                              >\n                                <Cancel />\n                              </IconButton>\n                            </Box>\n                          </Box>\n                        </Box>\n                      )}\n                    </Box>\n                  );\n                })}\n              </Box>\n              <Box mt={2}>\n                <Button\n                  variant=\"contained\"\n                  startIcon={<Add />}\n                  onClick={handleAddCategory}\n                >\n                  New Category\n                </Button>\n              </Box>\n            </Box>\n          </DialogContent>\n          <DialogActions>\n            {settings?.configuration_id && (\n              <Button onClick={handleClose} variant=\"outlined\">\n                Cancel\n              </Button>\n            )}\n            <Button variant=\"contained\" type=\"submit\">\n              Save\n            </Button>\n          </DialogActions>\n        </form>\n      </Box>\n    </Dialog>\n  );\n}\n\nexport default SettingsDialog;\n","import { Box } from \"@mui/material\";\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: number;\n  value: number;\n}\n\n/** Generic wrapper for tab panel content */\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box sx={{ p: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\nexport default TabPanel;\n","import { NotificationImportant, Settings } from \"@mui/icons-material\";\nimport { Badge, Box, IconButton, Tab, Tabs, Tooltip } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport BalancesTable from \"../components/BalancesTable\";\nimport HistoryTable from \"../components/HistoryTable\";\nimport RequestsTable from \"../components/RequestsTable\";\nimport ReviewDialog from \"../components/ReviewDialog\";\nimport SettingsDialog from \"../components/SettingsDialog\";\nimport TabPanel from \"../components/TabPanel\";\nimport {\n  addSettings,\n  getAllBalances,\n  getSettings,\n  getSubmittedRequests,\n  updateRequest,\n  updateSettings,\n} from \"../utils/api-connector\";\nimport {\n  a11yProps,\n  compareDateTime,\n  compareLastNames,\n  sortBalancesByPriority,\n} from \"../utils/helpers\";\nimport {\n  BalancesTableRow,\n  HistoryTableRow,\n  RequestsTableRow,\n  RequestUpdateData,\n  TokensSettings,\n} from \"../utils/types\";\n\nfunction InstructorView() {\n  const [tabPosition, setTabPosition] = useState(0);\n  const [reviewDialogOpen, setReviewDialogOpen] = useState(false);\n  const [settingsDialogOpen, setSettingsDialogOpen] = useState(false);\n  const [settings, setSettings] = useState<TokensSettings | null>();\n  const [requestMap, setRequestMap] = useState<Map<string, boolean>>(new Map());\n  const [balanceRows, setBalanceRows] = useState<BalancesTableRow[]>([]);\n  const [requestRows, setRequestRows] = useState<RequestsTableRow[]>([]);\n  const [historyRows, setHistoryRows] = useState<HistoryTableRow[]>([]);\n  const [requestInReview, setRequestInReview] = useState<RequestsTableRow>();\n\n  useEffect(() => {\n    fetchAndAssembleData();\n  }, []);\n\n  useEffect(() => {\n    // When request data loads, assemble a mapping of who has pending requests\n    const newRequestMap = new Map();\n    requestRows.forEach((request) => {\n      newRequestMap.set(request.user_id, true);\n    });\n    setRequestMap(newRequestMap);\n  }, [requestRows]);\n\n  useEffect(() => {\n    // When the mapping of pending requests is set, retrieve and sort the balance table rows\n    if (requestMap.size) {\n      getAllBalances().then((balances) => {\n        const sortedBalances = sortBalancesByPriority(balances, requestMap);\n        setBalanceRows(sortedBalances);\n      });\n    }\n  }, [requestMap]);\n\n  useEffect(() => {\n    // If undefined, setting data may still be loading, but if null, response was received and config doesn't exist, so open the dialog\n    if (settings === null) {\n      setSettingsDialogOpen(true);\n    }\n  }, [settings]);\n\n  /** Retrieve and sort data for the requests and history tables\n   *  Balances table rows are set after loading the request data\n   *  since the balances table needs to know about pending requests\n   */\n  const fetchAndAssembleData = async () => {\n    // Retrieve and set Tokens Settings\n    const fetchedSettings = await getSettings();\n    setSettings(fetchedSettings);\n\n    // Retrieve and set rows for the Requests Table\n    const fetchedRequestRows = await getSubmittedRequests();\n    const newlySubmittedRequests = fetchedRequestRows.filter((row) => {\n      return row.status_name === \"SUBMITTED\";\n    });\n    newlySubmittedRequests.sort(compareLastNames);\n    setRequestRows(newlySubmittedRequests);\n\n    // All will show on history table - sort by timestamp\n    fetchedRequestRows.sort(compareDateTime);\n    setHistoryRows(fetchedRequestRows);\n  };\n\n  // Tab management\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n    setTabPosition(newValue);\n  };\n\n  // Dialog management\n  const handleOpenSettingsDialog = () => {\n    setSettingsDialogOpen(true);\n  };\n\n  const handleOpenReviewDialogFromRequests = (requestId: string) => {\n    setRequestInReview(\n      requestRows.find((request) => request.request_id === requestId)\n    );\n    setReviewDialogOpen(true);\n  };\n\n  const handleOpenReviewDialogFromHistory = (requestId: string) => {\n    setRequestInReview(\n      historyRows.find((request) => request.request_id === requestId)\n    );\n    setReviewDialogOpen(true);\n  };\n\n  const handleCloseSettingsDialog = (event?: object, reason?: string) => {\n    const reasonsToStayOpen = [\"backdropClick\", \"escapeKeyDown\"];\n    if (reason && reasonsToStayOpen.includes(reason)) {\n      return;\n    }\n    setSettingsDialogOpen(false);\n  };\n\n  const handleCloseReviewDialog = (event?: object, reason?: string) => {\n    const reasonsToStayOpen = [\"backdropClick\", \"escapeKeyDown\"];\n    if (reason && reasonsToStayOpen.includes(reason)) {\n      return;\n    }\n    setReviewDialogOpen(false);\n  };\n\n  const handleSaveSettingsDialog = async (newSettings: TokensSettings) => {\n    // Need to take the new data, send the update, and fetch the new settings\n    if (newSettings.configuration_id) {\n      await updateSettings(newSettings);\n    } else {\n      await addSettings(newSettings);\n    }\n    // Close the dialog\n    setSettingsDialogOpen(false);\n    // Fetch the new/updated settings to refresh the UI\n    const retrievedSettings = await getSettings();\n    setSettings(retrievedSettings);\n  };\n\n  const handleSaveReviewDialog = async (reviewData: RequestUpdateData) => {\n    // Close the dialog\n    setReviewDialogOpen(false);\n    // Send the update\n    await updateRequest(reviewData);\n    // Refresh the data in the UI\n    await fetchAndAssembleData();\n  };\n\n  return (\n    <>\n      {settings && (\n        <Box>\n          <Box display={\"flex\"} justifyContent={\"end\"} mr={1} mb={2}>\n            <Tooltip title=\"There are pending requests requiring review\">\n              <IconButton onClick={() => setTabPosition(1)}>\n                <Badge badgeContent={requestRows.length} color=\"primary\">\n                  <NotificationImportant />\n                </Badge>\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Review or update Tokens settings\">\n              <IconButton onClick={handleOpenSettingsDialog}>\n                <Settings />\n              </IconButton>\n            </Tooltip>\n          </Box>\n          <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n            <Tabs\n              value={tabPosition}\n              onChange={handleTabChange}\n              aria-label=\"basic tabs example\"\n            >\n              <Tab label=\"Balances\" {...a11yProps(0)} />\n              <Tab label=\"Requests\" {...a11yProps(1)} />\n              <Tab label=\"History\" {...a11yProps(2)} />\n            </Tabs>\n          </Box>\n          <TabPanel value={tabPosition} index={0}>\n            <BalancesTable\n              rows={balanceRows}\n              requestMap={requestMap}\n              initialTokens={settings?.initial_tokens || 0}\n              setTabPosition={setTabPosition}\n            />\n          </TabPanel>\n          <TabPanel value={tabPosition} index={1}>\n            <RequestsTable\n              rows={requestRows}\n              openReviewDialog={handleOpenReviewDialogFromRequests}\n            />\n          </TabPanel>\n          <TabPanel value={tabPosition} index={2}>\n            <HistoryTable\n              rows={historyRows}\n              openReviewDialog={handleOpenReviewDialogFromHistory}\n            />\n          </TabPanel>\n        </Box>\n      )}\n      {/* DIALOGS */}\n      <SettingsDialog\n        handleClose={handleCloseSettingsDialog}\n        handleSave={handleSaveSettingsDialog}\n        open={settingsDialogOpen}\n        settings={settings || null}\n      />\n      <ReviewDialog\n        handleClose={handleCloseReviewDialog}\n        handleSave={handleSaveReviewDialog}\n        open={reviewDialogOpen}\n        requestRow={requestInReview || null}\n      />\n    </>\n  );\n}\n\nexport default InstructorView;\n","import {\n  Box,\n  ThemeProvider,\n  createTheme,\n  CssBaseline,\n  // useMediaQuery,\n  useTheme,\n} from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport \"./App.scss\";\nimport DevPanel from \"./components/DevPanel\";\nimport Header from \"./components/Header\";\nimport { getInfo } from \"./utils/api-connector\";\nimport { AppContext } from \"./utils/context\";\nimport { getAppConfig, getEnvironment } from \"./utils/helpers\";\nimport { LtiAppInfo } from \"./utils/types\";\nimport InstructorView from \"./views/InstructorView\";\n\nfunction App() {\n  const [appConfig, setAppconfig] = useState<LtiAppInfo>();\n\n  useEffect(() => {\n    console.info(`Running in cra environment: ${getEnvironment()}`);\n    getInfo().then((info) => {\n      if (info && typeof info !== \"string\") {\n        console.info(`Application configuration information retrieved`);\n        /** Information about the environment used to create the react app */\n        const config = getAppConfig(info);\n        setAppconfig(config);\n      } else {\n        console.error(\"Unable to retrieve App Info - Session may be expired\");\n      }\n    });\n  }, []);\n\n  /** An indication that the user has set (on a compatible browser) that they prefer dark mode */\n  // const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n  /** The default primary color (used if no other primary color is specified) */\n  const defaultPrimary = useTheme().palette.primary.main;\n  /** Theme customizations */\n  const theme = createTheme({\n    palette: {\n      primary: {\n        main: appConfig?.baseColor || defaultPrimary,\n      },\n      mode: appConfig?.darkMode ? \"dark\" : \"light\",\n    },\n    components: {\n      MuiTableCell: {\n        styleOverrides: {\n          head: {\n            fontWeight: \"bold\",\n          },\n        },\n      },\n    },\n  });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <div className=\"App\">\n        {appConfig && (\n          <AppContext.Provider value={appConfig}>\n            <Box display={\"flex\"} className=\"App-header\">\n              <Box\n                width={\"100%\"}\n                p={4}\n                height={\"100vh\"}\n                display={\"flex\"}\n                flexDirection={\"column\"}\n              >\n                <Header />\n                <Box>\n                  {/* Condition for views? */}\n                  <InstructorView />\n                </Box>\n              </Box>\n            </Box>\n          </AppContext.Provider>\n        )}\n      </div>\n      {/* Only show dev panel for local development */}\n      {getEnvironment() === \"pre_build\" && <DevPanel />}\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Theme } from \"@mui/material\";\nimport { APP_INFO_OVERRIDES, EnvConfig } from \"./contants\";\nimport {\n  BalancesTableRow,\n  CraEnvironment,\n  DecoratedWindow,\n  GeneralTableRow,\n  HistoryTableRow,\n  LtiAppInfo,\n  RequestStatus,\n} from \"./types\";\n\nexport const getAppConfig = (appInfo: LtiAppInfo): LtiAppInfo => {\n  const environment = getEnvironment();\n  let overrides = {};\n  // The client-side configuration will override the server properties, if set\n  if (environment === \"pre_build\") {\n    overrides = APP_INFO_OVERRIDES;\n  }\n  const config: LtiAppInfo = {\n    ...appInfo,\n    ...EnvConfig[environment],\n    ...overrides,\n  };\n  return config;\n};\n\nexport const getEnvironment = (): CraEnvironment => {\n  const environment =\n    (process?.env.REACT_APP_ENV as CraEnvironment) || \"production\";\n  return environment;\n};\n\nexport const getSessionId = (): string => {\n  const appConfig = (window as DecoratedWindow).appConfig || null;\n  return appConfig?.sessionId || \"\";\n};\n\nexport const getStatusColors = (theme: Theme) => {\n  const statusColors: Record<RequestStatus, string> = {\n    SUBMITTED: theme.palette.warning.main,\n    ACCEPTED: theme.palette.success.main,\n    REJECTED: theme.palette.error.main,\n  };\n  return statusColors;\n};\n\nconst compareStrings = (a: string, b: string) => {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n};\n\nexport const compareLastNames = (a: GeneralTableRow, b: GeneralTableRow) => {\n  const splitA = a.learner_name.split(\" \");\n  const splitB = b.learner_name.split(\" \");\n  const lastA = splitA[splitA.length - 1];\n  const lastB = splitB[splitB.length - 1];\n  return lastA === lastB\n    ? compareStrings(splitA[0], splitB[0])\n    : compareStrings(lastA, lastB);\n};\n\nexport const compareDateTime = (a: HistoryTableRow, b: HistoryTableRow) => {\n  return new Date(b.updated_at).getTime() - new Date(a.updated_at).getTime();\n};\n\nexport const sortBalancesByPriority = (\n  rows: BalancesTableRow[],\n  requestMap: Map<string, boolean>\n) => {\n  rows.sort(compareLastNames);\n  // Now that rows are sorted, divide them by 'SUBMITTED' status\n  const pending: BalancesTableRow[] = [];\n  const resolved: BalancesTableRow[] = [];\n  rows.forEach((row) => {\n    if (requestMap.get(row.user_id)) {\n      // User has a pending request and should be prioritized\n      pending.push(row);\n    } else {\n      // User does not have a pending request\n      resolved.push(row);\n    }\n  });\n  return [...pending, ...resolved];\n};\n\nexport function a11yProps(index: number) {\n  return {\n    id: `tab-${index}`,\n    \"aria-controls\": `tabpanel-${index}`,\n  };\n}\n","import { getSessionId } from \"./helpers\";\nimport { CraEnvironment, LtiAppInfo, LtiSessionConfig } from \"./types\";\n\n/** For use during local development for two reasons.\n * 1. Since you cannot retrieve the sessionId from the react server\n * 2. So you don't have to rely on updating the server to check different scenarios tied to the appInfo\n */\nexport const APP_INFO_OVERRIDES: Partial<LtiAppInfo> = {\n  // apiUrl: \"\",\n  // contextId: \"\",\n  // isInstructor: true,\n  // linkId: \"\",\n  sessionId: \"397e599274b27184c9c5c9b96cd18d58\",\n  // username: \"\",\n  // darkMode: true,\n  baseColor: \"#6B5B95\", // DRK PRPL\n  // baseColor: \"#0E4466\", // DRK TEAL\n  // baseColor: \"#FFADAD\", // LIGHT SALMON\n  // baseColor: \"#B3ADFF\", // LIGHT BLUE\n};\n\nconst sessionId = getSessionId();\n\nexport const EnvConfig: Record<CraEnvironment, LtiSessionConfig> = {\n  pre_build: {\n    apiUrl: \"/learning-apps/mod/mod-tokens/api/index.php\",\n    sessionId: APP_INFO_OVERRIDES.sessionId || \"\",\n  },\n  local_build: {\n    apiUrl: \"/learning-apps/mod/mod-tokens/api/index.php\",\n    sessionId,\n  },\n  deployed_build: {\n    apiUrl: \"/tsugi/mod/mod-tokens/api/index.php\",\n    sessionId,\n  },\n};\n\nexport const DB_DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n"],"sourceRoot":""}